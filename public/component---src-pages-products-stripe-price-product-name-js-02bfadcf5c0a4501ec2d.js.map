{"version":3,"sources":["webpack:///./src/pages/products/{StripePrice.product__name}.js"],"names":["ProductDetail","data","product","name","stripePrice","description","id","price","unit_amount","currency","image","images","size","metadata","useShoppingCart","addItem","cartDetails","setItemQuantity","contentfulSiteSettings","shippingApiId","className","to","xmlns","width","height","viewBox","d","src","alt","onClick","shippingProduct","shippingCost","navigate"],"mappings":"6FAAA,+CAyGeA,UArGO,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAgBjBC,EAAU,CACdC,KAAMF,EAAKG,YAAYF,QAAQC,KAC/BE,YAAaJ,EAAKG,YAAYF,QAAQG,YACtCC,GAAIL,EAAKG,YAAYE,GACrBC,MAAON,EAAKG,YAAYI,YACxBC,SAAU,MACVC,MAAOT,EAAKG,YAAYF,QAAQS,OAAO,GACvCC,KAAMX,EAAKG,YAAYF,QAAQW,SAASD,MAvBR,EA0BgBE,cAA1CC,EA1B0B,EA0B1BA,QAASC,EA1BiB,EA0BjBA,YAAaC,EA1BI,EA0BJA,gBAE9B,OACGhB,EAAKG,YAAYE,KAAOL,EAAKiB,uBAAuBC,cAAiB,4BACtE,2BACE,6BAAQjB,EAAQC,MAChB,wBAAMiB,UAAU,QACd,uBAAKA,UAAU,0BACb,uBAAKA,UAAU,0CACb,qBAAGA,UAAU,uBACb,gBAAC,IAAD,CAAMC,GAAG,SACP,uBAAKD,UAAU,mCACb,uBAAKA,UAAU,0BAA0BE,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aACzG,wBAAMC,EAAE,2HAKhB,uBAAKN,UAAU,2BACb,uBAAKA,UAAU,mBACb,uBAAKA,UAAU,yDAAyDO,IAAKzB,EAAQQ,MAAOkB,IAAK1B,EAAQC,QAE3G,uBAAKiB,UAAU,yDACb,sBAAIA,UAAU,6CAA6ClB,EAAQC,MACnE,wBAAMiB,UAAU,sBAAhB,IAAyClB,EAAQK,MAAS,KAC1D,sBAAIa,UAAU,SACd,uBAAKA,UAAU,QACb,yBAAOA,UAAU,yBAAyBlB,EAAQG,aAClD,uBAAKe,UAAU,0BACb,wBAAMA,UAAU,yBAAhB,SAA+ClB,EAAQU,QAG3D,uBAAKQ,UAAU,0BACb,0BACEA,UAAU,yHACVS,QAAS,WA5DH,IACdC,EA4DUf,EAAQb,GA5DlB4B,EAAkB,CACtB3B,KAAM,kBACNE,YAAa,2BACbC,GAAIL,EAAKiB,uBAAuBC,cAChCZ,MAAkD,IAA3CN,EAAKiB,uBAAuBa,aACnCtB,SAAU,MACVC,MAAO,yHAEHT,EAAKiB,uBAAuBC,iBAAiBH,GACjDD,EAAQe,GAEVb,EAAgBhB,EAAKiB,uBAAuBC,cAAe,GAmD3Ca,YAAS,WALb","file":"component---src-pages-products-stripe-price-product-name-js-02bfadcf5c0a4501ec2d.js","sourcesContent":["import * as React from \"react\"\r\nimport { graphql, Link, navigate } from \"gatsby\"\r\nimport { useShoppingCart } from 'use-shopping-cart'\r\n\r\nconst ProductDetail = ({ data }) => {\r\n  const checkShipping = () => {\r\n    const shippingProduct = {\r\n      name: \"Ground Shipping\",\r\n      description: \"Standard Ground Shipping\",\r\n      id: data.contentfulSiteSettings.shippingApiId,\r\n      price: data.contentfulSiteSettings.shippingCost * 100,\r\n      currency: 'USD',\r\n      image: \"https://files.stripe.com/links/MDB8YWNjdF8xSUlrY3FJNkNmRUNFS3dnfGZsX3Rlc3RfaGlDbEdXQ0s1QmgyQ0s4WDEyTnlkYXNS00dozCyHTS\",\r\n    }\r\n    if (!(data.contentfulSiteSettings.shippingApiId in cartDetails)) {\r\n      addItem(shippingProduct); // Ground Shipping\r\n    }\r\n    setItemQuantity(data.contentfulSiteSettings.shippingApiId, 1);\r\n  }\r\n\r\n  const product = {\r\n    name: data.stripePrice.product.name,\r\n    description: data.stripePrice.product.description,\r\n    id: data.stripePrice.id,\r\n    price: data.stripePrice.unit_amount,\r\n    currency: 'USD',\r\n    image: data.stripePrice.product.images[0],\r\n    size: data.stripePrice.product.metadata.size\r\n  }\r\n\r\n  const { addItem, cartDetails, setItemQuantity } = useShoppingCart()\r\n\r\n  return (\r\n    (data.stripePrice.id === data.contentfulSiteSettings.shippingApiId) ? <div></div> : // Catch shipping, don't show in store\r\n    <div>\r\n      <title>{product.name}</title>\r\n      <main className=\"my-8\">\r\n        <div className=\"container mx-auto px-6\">\r\n          <div className=\"flex justify-between items-center pb-3\">\r\n            <p className=\"text-2xl font-bold\"></p>\r\n            <Link to=\"/shop\">\r\n              <div className=\"modal-close cursor-pointer z-50\">\r\n                <svg className=\"fill-current text-black\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\r\n                  <path d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"></path>\r\n                </svg>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n          <div className=\"md:flex md:items-center\">\r\n            <div className=\"w-full md:w-1/2\">\r\n              <img className=\"h-full w-full rounded-md object-cover max-w-lg mx-auto\" src={product.image} alt={product.name} />\r\n            </div>\r\n            <div className=\"w-full max-w-lg mx-auto mt-5 md:ml-8 md:mt-0 md:w-1/2\">\r\n              <h3 className=\"text-gray-700 uppercase font-bold text-lg\">{product.name}</h3>\r\n              <span className=\"text-gray-500 mt-3\">${((product.price) / 100)}</span>\r\n              <hr className=\"my-3\" />\r\n              <div className=\"mt-2\">\r\n                <label className=\"text-gray-700 text-sm\">{product.description}</label>\r\n                <div className=\"flex items-center mt-1\">\r\n                  <span className=\"text-gray-700 text-lg\">Size: {product.size}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center mt-6\">\r\n                <button \r\n                  className=\"px-8 py-2 bg-green-600 text-white text-sm font-medium rounded hover:bg-green-500 focus:outline-none focus:bg-green-500\"\r\n                  onClick={() => {\r\n                    addItem(product); \r\n                    checkShipping();\r\n                    navigate(\"/cart\");\r\n                  }}\r\n                >\r\n                  Add to Cart\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div >\r\n\r\n  )\r\n}\r\n\r\nexport const data = graphql`\r\n  query($id: String) {\r\n    stripePrice(id: {eq: $id}) {\r\n      id\r\n      unit_amount\r\n      product {\r\n        name\r\n        id\r\n        description\r\n        images\r\n        metadata {\r\n          size\r\n          type\r\n          }\r\n      }\r\n    }\r\n    contentfulSiteSettings {\r\n      shippingApiId\r\n      shippingCost\r\n    }\r\n  }\r\n`\r\nexport default ProductDetail"],"sourceRoot":""}